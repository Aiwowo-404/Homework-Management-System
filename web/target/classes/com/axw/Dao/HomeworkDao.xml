<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.axw.Dao.HomeworkDao">
    <insert id="addHomework">
        insert into axw.homework(tid, sid, homework, flag) values (#{tid},#{sid},#{homework},#{flag})
    </insert>
    <select id="getAllHomeworkByTeacher" resultType="java.util.HashMap">
        select student.name,homework.sid,homework.feedback,homework.flag,homework.homework from homework join student on homework.sid = student.id where tid = #{tid}
    </select>
    <select id="getAllHomeworkByStudent" resultType="java.util.HashMap">
        select teacher.name,homework.flag,homework.feedback,homework.sid,homework,tid from homework join teacher on homework.tid = teacher.id where sid = #{sid}
    </select>
    <update id="submitHomework">
        update axw.homework set feedback = #{feedback},flag = #{flag} where sid = #{sid} and tid = #{tid} and homework = #{homework};
    </update>
</mapper>